<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>Simple SVG | 拾荒者</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Recently I works on a network visualization solution in vb.net language, and want to export the image of my network in svg document format as the high quality publication material. And as the svg imag">
<meta property="og:type" content="article">
<meta property="og:title" content="Simple SVG">
<meta property="og:url" content="http://blog.xieguigang.me/2016/06/11/simple_svg/index.html">
<meta property="og:site_name" content="拾荒者">
<meta property="og:description" content="Recently I works on a network visualization solution in vb.net language, and want to export the image of my network in svg document format as the high quality publication material. And as the svg imag">
<meta property="og:image" content="https://raw.githubusercontent.com/xieguigang/xieguigang.github.io-hexo/master/images/SVG_TestOutput.png">
<meta property="og:image" content="https://raw.githubusercontent.com/xieguigang/xieguigang.github.io-hexo/master/images/2016-06-11.png">
<meta property="og:updated_time" content="2016-06-11T05:00:00.313Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Simple SVG">
<meta name="twitter:description" content="Recently I works on a network visualization solution in vb.net language, and want to export the image of my network in svg document format as the high quality publication material. And as the svg imag">
<meta name="twitter:image" content="https://raw.githubusercontent.com/xieguigang/xieguigang.github.io-hexo/master/images/SVG_TestOutput.png">
    

    
        <link rel="alternate" href="/" title="拾荒者" type="application/atom+xml" />
    

    
        <link rel="icon" href="http://xieguigang.me/favicon.ico" />
    

    <link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/open-sans/styles.css">
    <link rel="stylesheet" href="/vendor/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/vendor/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/vendor/fancybox/jquery.fancybox.css">
    
    
    
    

</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">拾荒者</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/nuget">nuget</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="https://raw.githubusercontent.com/xieguigang/xieguigang.github.io-hexo/master/images/my/WeChatImage636059681622385094.jpg" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/nuget">nuget</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="https://raw.githubusercontent.com/xieguigang/xieguigang.github.io-hexo/master/images/my/WeChatImage636059681622385094.jpg" />
            <h2 id="name">xieguigang</h2>
            <h3 id="title">GCModeller chief developer</h3>
            <span id="location"><i class="fa fa-map-marker"></i>GuiLin, China (中國 · 桂林)</span>
            <a id="follow" target="_blank" href="https://github.com/xieguigang">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                40
                <span>posts</span>
            </div>
            <div class="article-info-block">
                82
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/xieguigang" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-simple_svg" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            Simple SVG
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/06/11/simple_svg/">
            <time datetime="2016-06-10T16:00:00.000Z" itemprop="datePublished">2016-06-11</time>
        </a>
    </div>


                        
                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/d3js/">d3js</a>, <a class="tag-link" href="/tags/document/">document</a>, <a class="tag-link" href="/tags/note/">note</a>, <a class="tag-link" href="/tags/svg/">svg</a>, <a class="tag-link" href="/tags/vb-net/">vb.net</a>
    </div>

                    </div>
                
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>Recently I works on a <a href="http://www.codeproject.com/Articles/1104741/NET-Canvas-for-Network-visualization" target="_blank" rel="external"><strong>network visualization solution</strong></a> in vb.net language, and want to export the image of my network in svg document format as the high quality publication material. And as the svg image is a kind of XML file, so that by using xml serialization technology, this makes the svg image generates so easily.</p>
<p><img src="https://raw.githubusercontent.com/xieguigang/xieguigang.github.io-hexo/master/images/SVG_TestOutput.png" alt=""><br>Example svg output on github: <a href="https://github.com/xieguigang/VisualBasic_AppFramework/blob/master/Datavisualization/Datavisualization.Network/SVG_TestOutput.svg" target="_blank" rel="external">https://github.com/xieguigang/VisualBasic_AppFramework/blob/master/Datavisualization/Datavisualization.Network/SVG_TestOutput.svg</a></p>
<p>Wikipedia: <a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics" target="_blank" rel="external">https://en.wikipedia.org/wiki/Scalable_Vector_Graphics</a></p>
<blockquote>
<p>Scalable Vector Graphics (SVG) is an XML-based vector image format for two-dimensional graphics with support for interactivity and animation. The SVG specification is an open standard developed by the World Wide Web Consortium (W3C) since 1999.</p>
<p>SVG images and their behaviors are defined in XML text files. This means that they can be searched, indexed, scripted, and compressed. As XML files, SVG images can be created and edited with any text editor, but are more often created with drawing software.</p>
<p>All major modern web browsers—including Mozilla Firefox, Internet Explorer, Google Chrome, Opera, Safari, and Microsoft Edge—have at least some degree of SVG rendering support.</p>
</blockquote>
<p>Here is a tips of how to generate the svg image in a very simple way.</p>
<a id="more"></a>
<p>As the svg image is a XML document file, so that we can create a xml class object to modelling the SVG image, and then just using xml serialization to creates the SVG images as the high quantity published image for your document.</p>
<p>Majority, the svg just behavior likes the HTML, it can be consists of two major section:</p>
<ol>
<li>Vector Diagram parts to defines the image</li>
<li>CSS styles to tweaks on the diagram styles</li>
</ol>
<h2 id="Part1-Vector-diagram-object"><a href="#Part1-Vector-diagram-object" class="headerlink" title="Part1: Vector diagram object"></a>Part1: Vector diagram object</h2><p>As you can treating the svg document as html file, and we can tweaks on the diagram by using CSS, so that we can definite a basically SVG node element in the SVG Xml document:</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> The basically SVG XML document node, it can be tweaks on the style by using CSS</span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">Public</span> <span class="keyword">MustInherit</span> <span class="keyword">Class</span> node</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> CSS style definition</span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> style <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> node class id, just like the id in HTML, you can also using this attribute to tweaks on the style by CSS.</span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> [<span class="keyword">class</span>] <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">Public</span> <span class="keyword">Overrides</span> <span class="keyword">Function</span> ToString() <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">        <span class="keyword">Return</span> <span class="keyword">MyClass</span>.GetJson</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Class</span></span><br></pre></td></tr></table></figure>
<p>In the above code, the <strong>style</strong> property can overrides the global css style or complement the style definition for the specific node object. The <strong>class</strong> property defines the class id of the node element in the XML or HTML, which is can be applied the global css style through this class id property.<br>In my network canvas project, i used circle to visualize node and line object to visualize the edges, and here is the object definition:<br><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Public</span> <span class="keyword">Class</span> circle : <span class="keyword">Inherits</span> node</span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> cy <span class="keyword">As</span> <span class="built_in">Double</span></span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> cx <span class="keyword">As</span> <span class="built_in">Double</span></span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> r <span class="keyword">As</span> <span class="built_in">Double</span></span><br><span class="line">    <span class="keyword">Public</span> <span class="keyword">Property</span> title <span class="keyword">As</span> title</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Class</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Public</span> <span class="keyword">Class</span> line : <span class="keyword">Inherits</span> node</span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> y2 <span class="keyword">As</span> <span class="built_in">Double</span></span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> x2 <span class="keyword">As</span> <span class="built_in">Double</span></span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> y1 <span class="keyword">As</span> <span class="built_in">Double</span></span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> x1 <span class="keyword">As</span> <span class="built_in">Double</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Class</span></span><br></pre></td></tr></table></figure></p>
<p>Almost all of the diagram object includes the circle and line object that used in the d3js svg is defined in the namespace: <strong>Microsoft.VisualBasic.Imaging.SVG</strong>, and you can found the entire source code at here: <strong><a href="https://github.com/xieguigang/VisualBasic_AppFramework/blob/master/Datavisualization/Microsoft.VisualBasic.Imaging/SVG/Xml.vb" target="_blank" rel="external">Microsoft.VisualBasic.Imaging/SVG/Xml.vb</a></strong>.</p>
<p>By define these graphics diagram object for the xml serialization, that this makes the program generates the svg image by simply using two Linq expression, and here is the code of generates the svg image for my network visualize canvas object:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">Imports System.Runtime.CompilerServices</span><br><span class="line">Imports Microsoft.VisualBasic.DataVisualization.Network.Graph</span><br><span class="line">Imports Microsoft.VisualBasic.DataVisualization.Network.Layouts</span><br><span class="line">Imports Microsoft.VisualBasic.Imaging</span><br><span class="line">Imports Microsoft.VisualBasic.Imaging.SVG</span><br><span class="line">Imports Microsoft.VisualBasic.Imaging.SVG.CSS</span><br><span class="line">Imports Microsoft.VisualBasic.Language</span><br><span class="line">Imports Microsoft.VisualBasic.MarkupLanguage.HTML</span><br><span class="line">Imports Microsoft.VisualBasic.Language.UnixBash</span><br><span class="line">Imports Microsoft.VisualBasic.DataVisualization.Network.Layouts.Interfaces</span><br><span class="line"></span><br><span class="line">''' &lt;summary&gt;</span><br><span class="line">'''</span><br><span class="line">''' &lt;/summary&gt;</span><br><span class="line">''' &lt;param name="graph"&gt;&lt;/param&gt;</span><br><span class="line">''' &lt;param name="style"&gt;Default value is &lt;see cref="DefaultStyle"/&gt;&lt;/param&gt;</span><br><span class="line">''' &lt;param name="size"&gt;The export canvas size&lt;/param&gt;</span><br><span class="line">''' &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">&lt;Extension&gt;</span><br><span class="line">Public Function ToSVG(graph As NetworkGraph, size As Size, Optional style As CSS.DirectedForceGraph = Nothing) As SVGXml</span><br><span class="line">    Dim rect As New Rectangle(New Point, size)</span><br><span class="line">    Dim nodes As SVG.circle() =</span><br><span class="line">        LinqAPI.Exec(Of SVG.circle) &lt;= From n As Graph.Node</span><br><span class="line">                                       In graph.nodes</span><br><span class="line">                                       Let pos As Point = Renderer.GraphToScreen(TryCast(n.Data.initialPostion, FDGVector2), rect)</span><br><span class="line">                                       Let c As Color = If(</span><br><span class="line">                                           TypeOf n.Data.Color Is SolidBrush,</span><br><span class="line">                                           DirectCast(n.Data.Color, SolidBrush).Color,</span><br><span class="line">                                           Color.Black)</span><br><span class="line">                                       Let r As Single = n.__getRadius</span><br><span class="line">                                       Let pt = New Point(CInt(pos.X - r / 2), CInt(pos.Y - r / 2))</span><br><span class="line">                                       Select New circle With &#123;</span><br><span class="line">                                           .class = "node",</span><br><span class="line">                                           .cx = pt.X,</span><br><span class="line">                                           .cy = pt.Y,</span><br><span class="line">                                           .r = r,</span><br><span class="line">                                           .style = $"fill: rgb(&#123;c.R&#125;, &#123;c.G&#125;, &#123;c.B&#125;);"</span><br><span class="line">                                       &#125;</span><br><span class="line">    Dim links As line() =</span><br><span class="line">        LinqAPI.Exec(Of line) &lt;= From edge As Edge</span><br><span class="line">                                 In graph.edges</span><br><span class="line">                                 Let source As Graph.Node = edge.Source</span><br><span class="line">                                 Let target As Graph.Node = edge.Target</span><br><span class="line">                                 Let pts As Point = Renderer.GraphToScreen(TryCast(source.Data.initialPostion, FDGVector2), rect)</span><br><span class="line">                                 Let ptt As Point = Renderer.GraphToScreen(TryCast(target.Data.initialPostion, FDGVector2), rect)</span><br><span class="line">                                 Let rs As Single = source.__getRadius / 2,</span><br><span class="line">                                     rt As Single = target.__getRadius / 2</span><br><span class="line">                                 Select New line With &#123;</span><br><span class="line">                                     .class = "link",</span><br><span class="line">                                     .x1 = pts.X - rs,</span><br><span class="line">                                     .x2 = ptt.X - rt,</span><br><span class="line">                                     .y1 = pts.Y - rs,</span><br><span class="line">                                     .y2 = ptt.Y - rt</span><br><span class="line">                                 &#125;</span><br><span class="line">    Dim svg As New SVGXml With &#123;</span><br><span class="line">        .defs = New CSSStyles With &#123;</span><br><span class="line">            .styles = &#123;</span><br><span class="line">                New XmlMeta.CSS With &#123;</span><br><span class="line">                    .style = If(style Is Nothing, DefaultStyle(), style).ToString</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        .width = size.Width &amp; "px",</span><br><span class="line">        .height = size.Height &amp; "px",</span><br><span class="line">        .lines = links,</span><br><span class="line">        .circles = nodes,</span><br><span class="line">        .fill = "#dbf3ff"</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Return svg</span><br><span class="line">End Function</span><br></pre></td></tr></table></figure>
<h2 id="Part2-CSS-style"><a href="#Part2-CSS-style" class="headerlink" title="Part2: CSS style"></a>Part2: CSS style</h2><p>The svg CSS can be define using HTML css object in VisualBasic:</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Public</span> <span class="keyword">Class</span> CSSStyles</span><br><span class="line">    &lt;XmlElement(<span class="string">"style"</span>)&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> styles <span class="keyword">As</span> XmlMeta.CSS()</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Class</span></span><br></pre></td></tr></table></figure>
<p>And the <strong>XmlMeta.CSS</strong> object is a simple object define the css styles data in namespace <a href="https://github.com/xieguigang/VisualBasic_AppFramework/blob/master/DocumentFormats/VB_HTML/VB_HTML/HTML/Xml/Meta.vb" target="_blank" rel="external">Microsoft.VisualBasic.HTML.XmlMeta</a>:</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Imports</span> System.Xml.Serialization</span><br><span class="line"><span class="keyword">Imports</span> Microsoft.VisualBasic.Serialization</span><br><span class="line"></span><br><span class="line"><span class="keyword">Namespace</span> HTML.XmlMeta</span><br><span class="line"></span><br><span class="line">    <span class="keyword">Public</span> <span class="keyword">Class</span> CSS</span><br><span class="line"></span><br><span class="line">        &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> type <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">            <span class="keyword">Get</span></span><br><span class="line">                <span class="keyword">Return</span> <span class="string">"text/css"</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">Get</span></span><br><span class="line">            <span class="keyword">Set</span>(value <span class="keyword">As</span> <span class="built_in">String</span>)</span><br><span class="line">                <span class="comment">' ReadOnly, Do Nothing</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">Set</span></span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">Property</span></span><br><span class="line"></span><br><span class="line">        &lt;XmlText&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> style <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">Public</span> <span class="keyword">Overrides</span> <span class="keyword">Function</span> ToString() <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">            <span class="keyword">Return</span> <span class="keyword">Me</span>.GetJson</span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">Class</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Namespace</span></span><br></pre></td></tr></table></figure>
<p>Define the CSS style is based on your specific application situation, and here is the CSS generated code for the network canvas objects in my work: nodes and edges:</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Imports</span> System.<span class="keyword">Text</span></span><br><span class="line"><span class="keyword">Imports</span> Microsoft.VisualBasic.ComponentModel.DataSourceModel.SchemaMaps</span><br><span class="line"><span class="keyword">Imports</span> Microsoft.VisualBasic.Language</span><br><span class="line"><span class="keyword">Imports</span> Microsoft.VisualBasic.MarkupLanguage.HTML</span><br><span class="line"></span><br><span class="line"><span class="keyword">Namespace</span> SVG.CSS</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> Style generator for the value of <span class="doctag">&lt;see cref="XmlMeta.CSS.style"/&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">Public</span> <span class="keyword">Class</span> DirectedForceGraph</span><br><span class="line">        <span class="keyword">Public</span> <span class="keyword">Property</span> node <span class="keyword">As</span> CssValue</span><br><span class="line">        <span class="keyword">Public</span> <span class="keyword">Property</span> link <span class="keyword">As</span> CssValue</span><br><span class="line"></span><br><span class="line">        <span class="keyword">Public</span> <span class="keyword">Overrides</span> <span class="keyword">Function</span> ToString() <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">            <span class="keyword">Dim</span> sb <span class="keyword">As</span> <span class="keyword">New</span> StringBuilder</span><br><span class="line"></span><br><span class="line">            <span class="keyword">Call</span> sb.AppendLine(<span class="string">".node &#123;"</span>)</span><br><span class="line">            <span class="keyword">Call</span> sb.AppendLine(node.ToString)</span><br><span class="line">            <span class="keyword">Call</span> sb.AppendLine(<span class="string">"&#125;"</span>)</span><br><span class="line">            <span class="keyword">Call</span> sb.AppendLine(<span class="string">".link &#123;"</span>)</span><br><span class="line">            <span class="keyword">Call</span> sb.AppendLine(link.ToString)</span><br><span class="line">            <span class="keyword">Call</span> sb.AppendLine(<span class="string">"&#125;"</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">Return</span> sb.ToString</span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">Class</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">Public</span> <span class="keyword">Class</span> CssValue : <span class="keyword">Inherits</span> ClassObject</span><br><span class="line">        &lt;DataFrameColumn&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> stroke <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">        &lt;DataFrameColumn(<span class="string">"stroke-width"</span>)&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> strokeWidth <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">        &lt;DataFrameColumn(<span class="string">"stroke-opacity"</span>)&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> strokeOpacity <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">        &lt;DataFrameColumn&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> opacity <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">Public</span> <span class="keyword">Overrides</span> <span class="keyword">Function</span> ToString() <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">            <span class="keyword">Dim</span> sb <span class="keyword">As</span> <span class="keyword">New</span> StringBuilder</span><br><span class="line"></span><br><span class="line">            <span class="keyword">For</span> <span class="keyword">Each</span> prop <span class="keyword">In</span> DataFrameColumnAttribute.LoadMapping(<span class="keyword">Of</span> CssValue).Values</span><br><span class="line">                <span class="keyword">Dim</span> value <span class="keyword">As</span> <span class="built_in">Object</span> = prop.GetValue(<span class="keyword">Me</span>)</span><br><span class="line">                <span class="keyword">If</span> <span class="keyword">Not</span> value <span class="keyword">Is</span> <span class="literal">Nothing</span> <span class="keyword">Then</span></span><br><span class="line">                    <span class="keyword">Call</span> sb.AppendLine(<span class="string">"    "</span> &amp; $<span class="string">"&#123;prop.Identity&#125;: &#123;Scripting.ToString(value)&#125;;"</span>)</span><br><span class="line">                <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">            <span class="keyword">Next</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">Return</span> sb.ToString</span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">Class</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Namespace</span></span><br></pre></td></tr></table></figure>
<p>Which it defines the HTML element styles, and this HTML CSS definition is also works in SVG. The source show above generates such CSS definition for rendering the elements which it has a class id named <strong>“node” or “link”</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Public Function <span class="title">DefaultStyle</span><span class="params">()</span> As CSS.DirectedForceGraph</span><br><span class="line">    Return New DirectedForceGraph With </span>&#123;</span><br><span class="line">        .link = New CssValue With &#123;</span><br><span class="line">            .stroke = <span class="string">"#CCC"</span>,</span><br><span class="line">            .strokeOpacity = <span class="string">"0.85"</span>,</span><br><span class="line">            .strokeWidth = <span class="string">"6"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        .node = New CssValue With &#123;</span><br><span class="line">            .strokeWidth = <span class="string">"0.5px"</span>,</span><br><span class="line">            .strokeOpacity = <span class="string">"0.8"</span>,</span><br><span class="line">            .stroke = <span class="string">"#FFF"</span>,</span><br><span class="line">            .opacity = <span class="string">"0.85"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">End Function</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span><br><span class="line">.node &#123;</span><br><span class="line">    opacity: 0.85;</span><br><span class="line">    stroke: #FFF;</span><br><span class="line">    strokeOpacity: 0.8;</span><br><span class="line">    strokeWidth: 0.5px;</span><br><span class="line">&#125;</span><br><span class="line">.link &#123;</span><br><span class="line">    stroke: #CCC;</span><br><span class="line">    strokeOpacity: 0.85;</span><br><span class="line">    strokeWidth: 6;</span><br><span class="line">&#125;</span><br><span class="line"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">circle</span> <span class="attr">style</span>=<span class="string">"fill: rgb(176, 196, 222);"</span> <span class="attr">class</span>=<span class="string">"node"</span> <span class="attr">cy</span>=<span class="string">"356"</span> <span class="attr">cx</span>=<span class="string">"1118"</span> <span class="attr">r</span>=<span class="string">"10"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">line</span> <span class="attr">class</span>=<span class="string">"link"</span> <span class="attr">y2</span>=<span class="string">"967"</span> <span class="attr">x2</span>=<span class="string">"1014"</span> <span class="attr">y1</span>=<span class="string">"997"</span> <span class="attr">x1</span>=<span class="string">"1047"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Save-the-SVG-document"><a href="#Save-the-SVG-document" class="headerlink" title="Save the SVG document"></a>Save the SVG document</h2><p>So that we can define a basically svg document object consist with these two part of data: which it has a css style property named defs and inherits from graphics object, which its element name in svg is g and contains the property definition of graphics diagram objects, such as circles, lines, rectangle, texts, etc:<br><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> The svg vector graphics in Xml document format.</span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">&lt;XmlType(<span class="string">"svg"</span>)&gt; <span class="keyword">Public</span> <span class="keyword">Class</span> SVGXml : <span class="keyword">Inherits</span> g</span><br><span class="line">    <span class="keyword">Implements</span> ISaveHandle</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">Region</span> "xml root property"</span></span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> width <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> height <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> version <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">End</span> <span class="meta-keyword">Region</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> Style definition of the xml node in this svg document.</span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> you can define the style by using css and set the class</span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> attribute for the specific node to controls the</span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> visualize style.</span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="keyword">Public</span> <span class="keyword">Property</span> defs <span class="keyword">As</span> CSSStyles</span><br><span class="line">......</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Class</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Public</span> <span class="keyword">Class</span> g : <span class="keyword">Inherits</span> node</span><br><span class="line">    .......</span><br><span class="line">    &lt;XmlElement(<span class="string">"line"</span>)&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> lines <span class="keyword">As</span> line()</span><br><span class="line">    &lt;XmlElement(<span class="string">"circle"</span>)&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> circles <span class="keyword">As</span> circle()</span><br><span class="line">    &lt;XmlAttribute&gt; <span class="keyword">Public</span> <span class="keyword">Property</span> fill <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Class</span></span><br></pre></td></tr></table></figure></p>
<p>Due to the reason of xml serialization in the vb.net is in the utf-16 encoding and using the default xml namespace, so that we should manually modify the xml encodings to utf-8, modified the xml namespace to svg namespace: <a href="http://www.w3.org/2000/svg" target="_blank" rel="external">http://www.w3.org/2000/svg</a>, and add a xlink namespace from: <a href="http://www.w3.org/1999/xlink" target="_blank" rel="external">http://www.w3.org/1999/xlink</a>.</p>
<p>Here is the code example of save the SVG xml document:</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> Save this svg document object into the file system.</span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;param name="Path"&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;param name="encoding"&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="keyword">Private</span> <span class="keyword">Function</span> SaveAsXml(<span class="keyword">Optional</span> Path <span class="keyword">As</span> <span class="built_in">String</span> = <span class="string">""</span>, <span class="keyword">Optional</span> encoding <span class="keyword">As</span> Encoding = <span class="literal">Nothing</span>) <span class="keyword">As</span> <span class="built_in">Boolean</span> <span class="keyword">Implements</span> ISaveHandle.Save</span><br><span class="line">    <span class="keyword">Dim</span> xml <span class="keyword">As</span> <span class="keyword">New</span> XmlDoc(<span class="keyword">Me</span>.GetXml)</span><br><span class="line">    xml.encoding = XmlEncodings.UTF8</span><br><span class="line">    xml.standalone = <span class="literal">False</span></span><br><span class="line">    xml.xmlns.<span class="keyword">Set</span>(<span class="string">"xlink"</span>, <span class="string">"http://www.w3.org/1999/xlink"</span>)</span><br><span class="line">    xml.xmlns.xmlns = <span class="string">"http://www.w3.org/2000/svg"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">Return</span> xml.SaveTo(Path, encoding)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> Save this svg document object into the file system.</span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;param name="Path"&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;param name="encoding"&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">'''</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="keyword">Public</span> <span class="keyword">Function</span> SaveAsXml(<span class="keyword">Optional</span> Path <span class="keyword">As</span> <span class="built_in">String</span> = <span class="string">""</span>, <span class="keyword">Optional</span> encoding <span class="keyword">As</span> Encodings = Encodings.UTF8) <span class="keyword">As</span> <span class="built_in">Boolean</span> <span class="keyword">Implements</span> ISaveHandle.Save</span><br><span class="line">    <span class="keyword">Return</span> SaveAsXml(Path, encoding.GetEncodings)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br></pre></td></tr></table></figure>
<p>After the xml file save operation, you can click on your generated svg image and displayed in your browser:<br><img src="https://raw.githubusercontent.com/xieguigang/xieguigang.github.io-hexo/master/images/2016-06-11.png" alt=""></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://blog.xieguigang.me/2016/06/11/simple_svg/" data-id="cipnbu3eg000h8gv4oob3mwty" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://blog.xieguigang.me/2016/06/11/simple_svg/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://blog.xieguigang.me/2016/06/11/simple_svg/">Comments</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2016/06/11/CLR_types/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Newer</strong>
            <div class="article-nav-title">
                
                    What does the Visual Studio “Any CPU” target mean?
                
            </div>
        </a>
    
    
        <a href="/2016/06/10/3d_rotation/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">3D Rotation</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>

</section>
            
                <aside id="sidebar">
   
        
    
        
    <div class="widget-wrap">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">22</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/3D/" style="font-size: 10px;">3D</a> <a href="/tags/3d/" style="font-size: 10px;">3d</a> <a href="/tags/3d-graphics/" style="font-size: 10px;">3d graphics</a> <a href="/tags/BI/" style="font-size: 10px;">BI</a> <a href="/tags/Chinese/" style="font-size: 10px;">Chinese</a> <a href="/tags/Chinese-rural-dog/" style="font-size: 10px;">Chinese rural dog</a> <a href="/tags/CodeProject/" style="font-size: 15px;">CodeProject</a> <a href="/tags/Compiler/" style="font-size: 10px;">Compiler</a> <a href="/tags/Desktop/" style="font-size: 10px;">Desktop</a> <a href="/tags/Enigma/" style="font-size: 13.33px;">Enigma</a> <a href="/tags/GCModeller/" style="font-size: 11.67px;">GCModeller</a> <a href="/tags/IE/" style="font-size: 10px;">IE</a> <a href="/tags/Linq/" style="font-size: 10px;">Linq</a> <a href="/tags/MSDN/" style="font-size: 10px;">MSDN</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/PDB/" style="font-size: 10px;">PDB</a> <a href="/tags/R/" style="font-size: 10px;">R</a> <a href="/tags/SDK-document/" style="font-size: 10px;">SDK document</a> <a href="/tags/SVG/" style="font-size: 10px;">SVG</a> <a href="/tags/Syntax/" style="font-size: 10px;">Syntax</a> <a href="/tags/UI/" style="font-size: 10px;">UI</a> <a href="/tags/VisualStudio/" style="font-size: 10px;">VisualStudio</a> <a href="/tags/WPF/" style="font-size: 10px;">WPF</a> <a href="/tags/XAML/" style="font-size: 10px;">XAML</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/tags/architecture/" style="font-size: 11.67px;">architecture</a> <a href="/tags/art-work/" style="font-size: 10px;">art work</a> <a href="/tags/async/" style="font-size: 10px;">async</a> <a href="/tags/bash/" style="font-size: 10px;">bash</a> <a href="/tags/check-point/" style="font-size: 10px;">check-point</a> <a href="/tags/chrome/" style="font-size: 10px;">chrome</a> <a href="/tags/circos/" style="font-size: 11.67px;">circos</a> <a href="/tags/d3js/" style="font-size: 13.33px;">d3js</a> <a href="/tags/data-analysis/" style="font-size: 10px;">data analysis</a> <a href="/tags/data-visualization/" style="font-size: 10px;">data visualization</a> <a href="/tags/desktop/" style="font-size: 10px;">desktop</a> <a href="/tags/document/" style="font-size: 10px;">document</a> <a href="/tags/elementary-os/" style="font-size: 10px;">elementary os</a> <a href="/tags/firefox/" style="font-size: 10px;">firefox</a> <a href="/tags/force-directed/" style="font-size: 10px;">force directed</a> <a href="/tags/gdi/" style="font-size: 11.67px;">gdi+</a> <a href="/tags/genetics/" style="font-size: 10px;">genetics</a> <a href="/tags/github/" style="font-size: 13.33px;">github</a> <a href="/tags/interface/" style="font-size: 10px;">interface</a> <a href="/tags/javascript/" style="font-size: 16.67px;">javascript</a> <a href="/tags/jquery/" style="font-size: 10px;">jquery</a> <a href="/tags/language/" style="font-size: 10px;">language</a> <a href="/tags/languages/" style="font-size: 10px;">languages</a> <a href="/tags/libzplay/" style="font-size: 10px;">libzplay</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/music/" style="font-size: 16.67px;">music</a> <a href="/tags/my-works/" style="font-size: 10px;">my works</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/note/" style="font-size: 18.33px;">note</a> <a href="/tags/open-source/" style="font-size: 10px;">open-source</a> <a href="/tags/perl/" style="font-size: 10px;">perl</a> <a href="/tags/re0/" style="font-size: 10px;">re0</a> <a href="/tags/rem/" style="font-size: 10px;">rem</a> <a href="/tags/repost/" style="font-size: 16.67px;">repost</a> <a href="/tags/statics/" style="font-size: 10px;">statics</a> <a href="/tags/svg/" style="font-size: 10px;">svg</a> <a href="/tags/threading/" style="font-size: 10px;">threading</a> <a href="/tags/threadpool/" style="font-size: 10px;">threadpool</a> <a href="/tags/tricks/" style="font-size: 10px;">tricks</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a> <a href="/tags/user-agent/" style="font-size: 10px;">user-agent</a> <a href="/tags/vb-net/" style="font-size: 20px;">vb.net</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/web-server/" style="font-size: 10px;">web server</a> <a href="/tags/win10/" style="font-size: 10px;">win10</a> <a href="/tags/works/" style="font-size: 10px;">works</a> <a href="/tags/中華田園犬/" style="font-size: 10px;">中華田園犬</a> <a href="/tags/前端/" style="font-size: 10px;">前端</a> <a href="/tags/前端设计/" style="font-size: 13.33px;">前端设计</a> <a href="/tags/架构/" style="font-size: 11.67px;">架构</a> <a href="/tags/架构设计/" style="font-size: 10px;">架构设计</a> <a href="/tags/线程池/" style="font-size: 10px;">线程池</a> <a href="/tags/转载/" style="font-size: 10px;">转载</a> <a href="/tags/转载搬运/" style="font-size: 16.67px;">转载搬运</a> <a href="/tags/鹿乃/" style="font-size: 10px;">鹿乃</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://framework-docs.xieguigang.me/">VisualBasic Framework</a>
                    </li>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
                    <li>
                        <a href="http://gcmodeller.org">http://gcmodeller.org</a>
                    </li>
                
                    <li>
                        <a href="https://github.com/genetics-potato">https://github.com/genetics-potato</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2016 しゃけい よしつな<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
            this.page.url = 'http://blog.xieguigang.me/2016/06/11/simple_svg/';
        
        this.page.identifier = 'simple_svg';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'xieguigang' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>



    
        <script src="/vendor/fancybox/jquery.fancybox.pack.js"></script>
    


<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>